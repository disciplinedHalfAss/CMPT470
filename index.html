<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>ngX</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="./index.css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript Angularjs -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <!-- Latest compiled and minified JavaScript angular routes -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-route.js"></script>
    <!-- app brain -->
    <script src="./app.js"></script>
  </head>
  <body ng-app="mainApp">
    
    <!-- navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top" ng-controller="navbarCtrl">
      <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#"><span><img src="./assets/images/bt2.png" height="28" width="auto" aline='middle'></img></span> Chalupa Batman</a>
      </div>
    
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
        <li ng-click="setIndex(0)" ng-class="(index==0) ? 'active' : ''"><a href="#/login">Login</a></li>
        <li ng-click="setIndex(1)" ng-class="(index==1) ? 'active' : ''"><a href="#/register">Register</a></li>
        </ul>
      </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
    
    <!-- home -->
    <div id="options">
      <div class='container-fluid' ng-controller="searchCtrl">
        <div class='row'>
          <div class='col-xs-12 col-sm-2'>
            <select class="form-control input-sm search-select" 
                data-toggle="dropdown" 
                ng-model="selectedUniversity"
                ng-options="university.name for university in universities" 
                ng-change="universityChanged()">
            </select>
          </div>
          <div class='col-xs-12 col-sm-2'>
            <select class="form-control input-sm search-select" 
                ng-model="selectedDepartment" 
                ng-options="Department.name for Department in departments" 
                ng-change="departmentChanged()">
            </select>
          </div>
          <div class='col-xs-12 col-sm-2'>
            <select class="form-control input-sm search-select" 
                ng-model="selectedCourse" 
                ng-options="course.name for course in courses" 
                ng-change="courseChanged()">
            </select>
          </div>
          <div class='col-xs-12 col-sm-3 col-sm-offset-1'>
            <input type="text" class="form-control input-sm search-select" placeholder="Search">
          </div>
          <div class='col-xs-12 col-sm-2'>
            <select class="form-control input-sm search-select" 
                ng-model="selectedSortOption" 
                ng-options="option.name for option in sortOptions track by option.id" 
                ng-change="sortOrder()">
            </select>
          </div>
        </div>
      </div>
    </div>
    
    <!-- collection -->
    <div class='container' ng-controller="booksIndexCtrl" id='bookCollection'>
      <div class='row'>
      
      <div class='col-xs-12 col-sm-6 col-md-4 col-lg-3' ng-repeat="book in books | orderBy:books_order_by">
        <div class="thumbnail">
        <img src="http://placehold.it/320x150" alt="">
        <div class="caption">
          <h4 class="pull-right">{{book.price}}</h4>
          <h4><a href="#">{{book.name}}</a></h4>
          <div class="ratings">
          <h4>Owners Score</h4>
          <p class="pull-right">{{book.numberOfReviews}} reviews</p>
          <p>
            <span class="glyphicon glyphicon-star" ng-repeat="i in getStars(book.ownersRating) track by $index"></span>
            <span class="glyphicon glyphicon-star-empty" ng-repeat="i in getEmptyStars(book.ownersRating) track by $index"></span>
          </p>
          </div>
        </div>
        </div>
      </div>
      
      </div>
    </div>
  </body>
</html>